## B档

### 一、学生成绩核算系统的设计与实现（25分）

#### 要求

1. 按班级按课程从文件中读入相应的平时成绩、期中考试成绩和期末考试成绩。
2. 三个成绩对总评成绩的百分比被定义为常数，各占总成绩的30%、30%和40%。
3. 计算每位学生的总评成绩。
4. 计算该班级本课程的总平均成绩。
5. 计算处于优、良、中、及格、不及格的学生人数以及占总人数的百分比。其中：
    - 100-90为优
    - 89-80为良
    - 79-70为中
    - 69-60为及格
    - 60分以下为不及格
6. 按要求输出成绩在优、良、中、及格、不及格各区间的学生学号、成绩。

#### 程序设计参考思路

1. **建立文本文件 `note.dat`**  
    - 第一行为学生的总人数，其后为每个学生的成绩，每个学生的信息占一行，格式为:  
      `学号(6位)  平时成绩  期中考试成绩  期末考试成绩`
    - 例如：
      ```
      15
      994201     88     75.5    66         
      994202     91     79.5    76
      994203     85     75      77        
      994204     79     82      80.5
      994205     94     83.5    81.5       
      994206     80     69      68
      994207     82     77      71        
      994208     77     57      58
      994209     91     88      86        
      994210     96     89      90
      994211     70     45.5    50        
      994212     74     65      66
      994213     81     71      76        
      994214     83     75      77
      994215     85     78      79        
      ```
2. 从文件中读入成绩时，可用C语言文件读入方式或C++流实现。
3. 每次计算结果可在屏幕输出，并把每个学生的总评成绩输入到新文件`out.dat`，格式为：  
    `学生学号(6位)   总评成绩   成绩等级`  
    例如：`984201        88         B`  
    等级用字母A（优）、B（良）、C（中）、D（及格）、E（不及格）表示。
4. **数据结构（可用C++实现）**
    - 两个类：学生（student）和学生成绩（marks）
      - **学生类**
         - 数据成员：学号、姓名、专业等
         - 方法：构造函数、析构函数、设置/读取学号等
      - **学生成绩类**（从学生类派生）
         - 数据成员：平时成绩、期中考试成绩、期末考试成绩、总评成绩、成绩等级
         - 方法：读入/输出/显示成绩、求总评成绩、求等级、读取总评成绩和等级等
5. **设计**
    - 基本思想：自顶向下、逐步细化
    - 主要功能：
      - 总控模块：编制菜单，循环选择功能直到退出
      - 计算
      - 查询
6. **实现**
    - 每个类建两个文件：定义和实现文件
    - 注意包含相关文件

---

### 二、模拟电信计费系统的设计与实现（25分）

#### 要求

1. **计费功能**  
    - 根据源数据文件中的通话记录和长途费率文件对每一条通话记录计算通话费用，并将结果保存在费用文件中。
    - 通话费的计算方法：
      - 通话费 = 长途电话费 + 本地电话费
      - 长途电话费 = 费率（元/分钟）×通话时长（分钟），不足1分钟按1分钟计
      - 本地电话费：3分钟以内0.5元，以后每3分钟递增0.2元
2. **话费查询**  
    - 输入电话号码，从费用文件统计该号码的本地话费、长途话费，并从用户文件查找用户名，最后显示：
      ```
      用户名  电话号码  本地话费  长途话费  话费总计
      ```
3. **话单查询**  
    - 输入电话号码，查询并显示该用户的所有通话记录，格式为：
      ```
      用户名  主叫电话号码  被叫电话号码  通话时长
      ```

#### 程序设计参考思路

1. **输入输出文件**
    - 输入文件：
      - 源数据文件（`hd.dat`）：主叫区号 主叫号码 被叫区号 被叫号码 通话时长（秒）
      - 长话费率文件（`fl.dat`）：区号 费率
      - 用户文件（`yh.dat`）：电话号码 用户姓名
    - 输出文件：
      - 费用文件（`fy.dat`）：主叫号码 通话类型 话费金额
2. **系统输入数据示例**
    - `hd.dat`（20条通话记录）
    - `fl.dat`（4条记录）
    - `yh.dat`（5条记录）
3. **数据结构（可用C++实现）**
    - 三个类：话单（callist）、费用（charge）、用户（user）
    - 两个常量：本地费率和递增量
      - **话单类**：主叫区号、主叫号码、被叫区号、被叫号码、通话时长等
      - **费用类**（从话单类派生）：通话类型、通话费用等
      - **用户类**：姓名、电话号码等
4. **设计**
    - 基本思想：自顶向下、逐步细化
    - 主要功能：
      - 总控模块
      - 计算通话费用
      - 费用查询
      - 话单查询
5. **实现**
    - 进行话费查询前，必须先进行费用计算
    - 费用文件中设“通话类型”，如0表示本地，1表示长途
    - 每个类建两个文件：定义和实现文件
    - 注意包含相关文件

